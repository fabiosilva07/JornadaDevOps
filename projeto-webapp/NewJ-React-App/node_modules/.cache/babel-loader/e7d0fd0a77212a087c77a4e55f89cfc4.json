{"ast":null,"code":"import _regeneratorRuntime from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useHistory}from'react-router-dom';import PageDefault from'../../../components/PageDefault';import FormField from'../../../components/FormField';import Button from'../../../components/Button';import useForm from'../../../hocks/useForm';import categoriasRepository from'../../../repositories/categorias';function CadastroCategorias(){var history=useHistory();var valoresIniciais={titulo:'',descricao:'',cor:''};var _useForm=useForm(valoresIniciais),handleChange=_useForm.handleChange,values=_useForm.values,clearForm=_useForm.clearForm;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categorias=_useState2[0],setCategorias=_useState2[1];useEffect(function(){console.log('teste');var URL='http://localhost:4000/categorias';fetch(URL).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(respostaDoServidor){var resposta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return respostaDoServidor.json();case 2:resposta=_context.sent;setCategorias(_toConsumableArray(resposta));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());},[]);return/*#__PURE__*/React.createElement(PageDefault,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Cadastro de Categoria: \",values.titulo),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function handleSubmit(infosDoEvento){infosDoEvento.preventDefault();setCategorias([].concat(_toConsumableArray(categorias),[values]));categoriasRepository.create({titulo:values.titulo,descricao:values.descricao,cor:values.cor}).then(function(){console.log('Cadastrou com sucesso!');history.push('/');});clearForm();}},/*#__PURE__*/React.createElement(FormField,{label:\"Titulo da Categoria\",type:\"text\",name:\"titulo\",value:values.titulo,onChange:handleChange}),/*#__PURE__*/React.createElement(FormField,{label:\"Descri\\xE7\\xE3o\",type:\"textarea\",name:\"descricao\",value:values.descricao,onChange:handleChange}),/*#__PURE__*/React.createElement(FormField,{label:\"Cor\",type:\"color\",name:\"cor\",value:values.cor,onChange:handleChange}),/*#__PURE__*/React.createElement(Button,null,\"Cadastrar\")),/*#__PURE__*/React.createElement(\"ul\",null,categorias.map(function(categoria,indice){return/*#__PURE__*/React.createElement(\"li\",{key:\"\".concat(categoria).concat(indice)},categoria.titulo);})),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Ir para home\"));}export default CadastroCategorias;","map":{"version":3,"sources":["/app/src/pages/cadastro/categorias/index.js"],"names":["React","useState","useEffect","Link","useHistory","PageDefault","FormField","Button","useForm","categoriasRepository","CadastroCategorias","history","valoresIniciais","titulo","descricao","cor","handleChange","values","clearForm","categorias","setCategorias","console","log","URL","fetch","then","respostaDoServidor","json","resposta","handleSubmit","infosDoEvento","preventDefault","create","push","map","categoria","indice"],"mappings":"ifAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,kCAAjC,CAEA,QAASC,CAAAA,kBAAT,EAA8B,CAC5B,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,GAAMQ,CAAAA,eAAe,CAAG,CACtBC,MAAM,CAAE,EADc,CAEtBC,SAAS,CAAE,EAFW,CAGtBC,GAAG,CAAE,EAHiB,CAAxB,CAH4B,aASgBP,OAAO,CAACI,eAAD,CATvB,CASpBI,YAToB,UASpBA,YAToB,CASNC,MATM,UASNA,MATM,CASEC,SATF,UASEA,SATF,eAUQjB,QAAQ,CAAC,EAAD,CAVhB,wCAUrBkB,UAVqB,eAUTC,aAVS,eAY5BlB,SAAS,CAAE,UAAM,CACfmB,OAAO,CAACC,GAAR,CAAY,OAAZ,EACA,GAAMC,CAAAA,GAAG,CAAG,kCAAZ,CAEAC,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,0FACM,iBAAOC,kBAAP,qJACmBA,CAAAA,kBAAkB,CAACC,IAAnB,EADnB,QACEC,QADF,eAEJR,aAAa,oBACRQ,QADQ,EAAb,CAFI,sDADN,gEAOD,CAXQ,CAWN,EAXM,CAAT,CAaA,mBACE,oBAAC,WAAD,mBACE,wDAA4BX,MAAM,CAACJ,MAAnC,CADF,cAGE,4BAAM,QAAQ,CAAE,QAASgB,CAAAA,YAAT,CAAsBC,aAAtB,CAAqC,CACjDA,aAAa,CAACC,cAAd,GACAX,aAAa,8BACRD,UADQ,GAEXF,MAFW,GAAb,CAKAR,oBAAoB,CAACuB,MAArB,CAA4B,CAC1BnB,MAAM,CAAEI,MAAM,CAACJ,MADW,CAE1BC,SAAS,CAAEG,MAAM,CAACH,SAFQ,CAG1BC,GAAG,CAAEE,MAAM,CAACF,GAHc,CAA5B,EAKGU,IALH,CAKQ,UAAM,CACVJ,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAX,OAAO,CAACsB,IAAR,CAAa,GAAb,EACD,CARH,EAUAf,SAAS,GACZ,CAlBD,eAoBE,oBAAC,SAAD,EACE,KAAK,CAAC,qBADR,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAED,MAAM,CAACJ,MAJhB,CAKE,QAAQ,CAAEG,YALZ,EApBF,cA4BE,oBAAC,SAAD,EACE,KAAK,CAAC,iBADR,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,WAHP,CAIE,KAAK,CAAEC,MAAM,CAACH,SAJhB,CAKE,QAAQ,CAAEE,YALZ,EA5BF,cAoCE,oBAAC,SAAD,EACE,KAAK,CAAC,KADR,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,KAHP,CAIE,KAAK,CAAEC,MAAM,CAACF,GAJhB,CAKE,QAAQ,CAAEC,YALZ,EApCF,cA4CE,oBAAC,MAAD,kBA5CF,CAHF,cAqDE,8BACGG,UAAU,CAACe,GAAX,CAAe,SAACC,SAAD,CAAYC,MAAZ,CAAuB,CACrC,mBACE,0BAAI,GAAG,WAAKD,SAAL,SAAiBC,MAAjB,CAAP,EACGD,SAAS,CAACtB,MADb,CADF,CAKD,CANA,CADH,CArDF,cA+DE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,iBA/DF,CADF,CAqED,CAED,cAAeH,CAAAA,kBAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport PageDefault from '../../../components/PageDefault';\nimport FormField from '../../../components/FormField';\nimport Button from '../../../components/Button';\nimport useForm from '../../../hocks/useForm';\nimport categoriasRepository from '../../../repositories/categorias';\n\nfunction CadastroCategorias() {\n  const history = useHistory();\n  \n  const valoresIniciais = {\n    titulo: '',\n    descricao: '',\n    cor: '',\n  }\n  \n  const { handleChange, values, clearForm } = useForm(valoresIniciais);\n  const [categorias, setCategorias] = useState([]);\n\n  useEffect( () => {\n    console.log('teste');\n    const URL = 'http://localhost:4000/categorias';\n\n    fetch(URL)\n    .then(async (respostaDoServidor) => {\n      const resposta = await respostaDoServidor.json();\n      setCategorias([\n        ...resposta,\n      ]);\n    });\n  }, []);\n\n  return (\n    <PageDefault>\n      <h1>Cadastro de Categoria: {values.titulo}</h1>\n\n      <form onSubmit={function handleSubmit(infosDoEvento) {\n          infosDoEvento.preventDefault();\n          setCategorias([\n            ...categorias,\n            values\n          ]);\n          \n          categoriasRepository.create({\n            titulo: values.titulo,\n            descricao: values.descricao,\n            cor: values.cor,\n          })\n            .then(() => {\n              console.log('Cadastrou com sucesso!');\n              history.push('/');\n            });\n\n          clearForm();\n      }}>\n\n        <FormField\n          label=\"Titulo da Categoria\"\n          type=\"text\"\n          name=\"titulo\"\n          value={values.titulo}\n          onChange={handleChange}\n        />\n\n        <FormField\n          label=\"Descrição\"\n          type=\"textarea\"\n          name=\"descricao\"\n          value={values.descricao}\n          onChange={handleChange}\n        />\n\n        <FormField\n          label=\"Cor\"\n          type=\"color\"\n          name=\"cor\"\n          value={values.cor}\n          onChange={handleChange}\n        />\n\n        <Button>\n          Cadastrar\n        </Button>\n      </form>\n      \n\n      <ul>\n        {categorias.map((categoria, indice) => {\n          return (\n            <li key={`${categoria}${indice}`}>\n              {categoria.titulo}\n            </li>\n          )\n        })}\n      </ul>\n\n      <Link to=\"/\">\n        Ir para home\n      </Link>\n    </PageDefault>\n  )\n}\n\nexport default CadastroCategorias;"]},"metadata":{},"sourceType":"module"}